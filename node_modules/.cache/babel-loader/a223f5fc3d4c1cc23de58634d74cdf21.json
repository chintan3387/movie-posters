{"ast":null,"code":"import _defineProperty from \"/Users/chintan.desai/Projects/movie-db-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nconst IMAGE_BASE_URL = (width = 300) => \"https://image.tmdb.org/t/p/w\".concat(width);\n\nconst updateMoviePosterUrl = (movieResult, width = 300) => _objectSpread({}, movieResult, {\n  backdrop_path: \"\".concat(IMAGE_BASE_URL(width)).concat(movieResult.backdrop_path),\n  poster_path: \"\".concat(IMAGE_BASE_URL(width)).concat(movieResult.poster_path)\n});\n\nexport const getMovieList = moviesList => {\n  return !!moviesList ? [...moviesList.results.map(movie => updateMoviePosterUrl(movie))] : null;\n};\nexport const createReducer = (initialState = {}, actionHandlers = {}) => {\n  return (state = initialState, action) => {\n    const actionHandler = actionHandlers[action.type];\n    return actionHandler ? actionHandler(state, action) : state;\n  };\n};\n\nconst createAction = (type, props) => {\n  return _objectSpread({\n    type\n  }, props);\n};\n\nexport const createAsyncActionCreator = (actionType, asyncFn, requestParams) => {\n  return dispatch => {\n    dispatch(createAction(\"\".concat(actionType, \"_START\"), {\n      request: requestParams\n    }));\n    return asyncFn(requestParams).then(response => {\n      response.json().then(json => dispatch(createAction(\"\".concat(actionType, \"_SUCCESS\"), {\n        response: json\n      }))).catch(error => dispatch(createAction(\"\".concat(actionType, \"_ERROR\"), {\n        error\n      })));\n    });\n  };\n};\nconst initialAsyncState = {\n  isLoading: false,\n  response: null,\n  request: null\n};\nexport const createAsyncReducer = (actionType, actionHandlerFuncs = {}, initialState = initialAsyncState) => {\n  const startReducerFn = (state, action) => _objectSpread({}, state, {\n    isLoading: true,\n    request: action.request\n  });\n\n  const successReducerFn = (state, action) => _objectSpread({}, state, {\n    isLoading: false,\n    response: action.response\n  });\n\n  const errorReducerFn = (state, action) => _objectSpread({}, state, {\n    isLoading: false,\n    error: action.error\n  });\n\n  return createReducer(initialState, _objectSpread({\n    [\"\".concat(actionType, \"_START\")]: startReducerFn,\n    [\"\".concat(actionType, \"_SUCCESS\")]: successReducerFn,\n    [\"\".concat(actionType, \"_ERROR\")]: errorReducerFn\n  }, actionHandlerFuncs));\n};\nexport const getScrollDownPercentage = window => {\n  const pageHeight = window.document.documentElement.scrollHeight;\n  const clientHeight = window.document.documentElement.clientHeight;\n  const scrollPos = window.pageYOffset;\n  const currentPosition = scrollPos + clientHeight;\n  const percentageScrolled = currentPosition / pageHeight;\n  return percentageScrolled;\n};","map":{"version":3,"sources":["/Users/chintan.desai/Projects/movie-db-app/src/common/helper.js"],"names":["IMAGE_BASE_URL","width","updateMoviePosterUrl","movieResult","backdrop_path","poster_path","getMovieList","moviesList","results","map","movie","createReducer","initialState","actionHandlers","state","action","actionHandler","type","createAction","props","createAsyncActionCreator","actionType","asyncFn","requestParams","dispatch","request","then","response","json","catch","error","initialAsyncState","isLoading","createAsyncReducer","actionHandlerFuncs","startReducerFn","successReducerFn","errorReducerFn","getScrollDownPercentage","window","pageHeight","document","documentElement","scrollHeight","clientHeight","scrollPos","pageYOffset","currentPosition","percentageScrolled"],"mappings":"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","sourcesContent":["const IMAGE_BASE_URL = (width = 300) => `https://image.tmdb.org/t/p/w${width}`;\n\nconst updateMoviePosterUrl = (movieResult, width = 300) => ({\n    ...movieResult,\n    backdrop_path: `${IMAGE_BASE_URL(width)}${movieResult.backdrop_path}`,\n    poster_path: `${IMAGE_BASE_URL(width)}${movieResult.poster_path}`\n});\n\nexport const getMovieList = moviesList => {\n    return !!moviesList ? [...moviesList.results.map(movie => updateMoviePosterUrl(movie))] : null;\n};\n\nexport const createReducer = (initialState = {}, actionHandlers = {}) => {\n    return (state = initialState, action) => {\n        const actionHandler = actionHandlers[action.type];\n        return actionHandler ? actionHandler(state, action) : state;\n    };\n};\n\nconst createAction = (type, props) => {\n    return {\n        type,\n        ...props\n    };\n};\n\nexport const createAsyncActionCreator = (actionType, asyncFn, requestParams) => {\n    return dispatch => {\n        dispatch(createAction(`${actionType}_START`, {request: requestParams}));\n        return asyncFn(requestParams).then(response => {\n            response\n                .json()\n                .then(json => dispatch(createAction(`${actionType}_SUCCESS`, {response: json})))\n                .catch(error => dispatch(createAction(`${actionType}_ERROR`, {error})));\n        });\n    };\n};\n\nconst initialAsyncState = {isLoading: false, response: null, request: null};\n\nexport const createAsyncReducer = (actionType, actionHandlerFuncs = {}, initialState = initialAsyncState) => {\n    const startReducerFn = (state, action) => ({\n        ...state,\n        isLoading: true,\n        request: action.request\n    });\n\n    const successReducerFn = (state, action) => ({\n        ...state,\n        isLoading: false,\n        response: action.response\n    });\n\n    const errorReducerFn = (state, action) => ({\n        ...state,\n        isLoading: false,\n        error: action.error\n    });\n\n    return createReducer(initialState, {\n        [`${actionType}_START`]: startReducerFn,\n        [`${actionType}_SUCCESS`]: successReducerFn,\n        [`${actionType}_ERROR`]: errorReducerFn,\n        ...actionHandlerFuncs\n    });\n};\n\nexport const getScrollDownPercentage = window => {\n    const pageHeight = window.document.documentElement.scrollHeight;\n    const clientHeight = window.document.documentElement.clientHeight;\n    const scrollPos = window.pageYOffset;\n    const currentPosition = scrollPos + clientHeight;\n    const percentageScrolled = currentPosition / pageHeight;\n    return percentageScrolled;\n};\n"]},"metadata":{},"sourceType":"module"}